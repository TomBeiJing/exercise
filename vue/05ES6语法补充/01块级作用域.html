<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>块级作用域</title>
</head>
<body>
    <button>按钮1</button>
    <button>按钮2</button>
    <button>按钮3</button>
    <script>
        //1.变量作用域：变量在深南吗范围内是可用的
        //2.没有块级作用域引起的问题
        //--------------
        // var btns = document.getElementsByTagName('button');
        // for (var i=0; i<btns.length;i++){
        //     btns[i].addEventListener("click",function (evt) {
        //         console.log("di" + i + "qqqq");
        //     })
        // }
        //--------------
        // var btns = document.getElementsByTagName('button');
        // for (var i=0; i<btns.length;i++){
        //     (function (i) {
        //         btns[i].addEventListener("click",function (evt) {
        //             console.log("di" + i + "qqqq");
        //         })
        //     })(i);
        // }
        //   这里匿名函数被立即调用了，i值被保存在各自的函数内，由于作用域的关系互不干涉。
        //   等监听对象激活在输出对应的i值

        //--------------
        //3.为什么块级作用域引起的问题：for的块级
        // 为什么必报可以解决问题：函数是一个作用域；
        //ES5之前因为if和for都没有块级作用域的概念，所以在很多时候，我们都必须借助于function的作用域来解决淫语外面变量的问题。
        // var btns = document.getElementsByTagName('button');
        // for (let i=0; i<btns.length;i++){
        //     btns[i].addEventListener("click",function (evt) {
        //         console.log("di" + i + "qqqq");
        //     })
        // }
        //ES6中，加入了let，let它是有if和for的块级作用域
        //ES5中的var是没有跨级作用域的（if/for）
        //ES6中的let是由跨级作用域的（if/for）
        // { i=0;
        //     btns[i].addEventListener("click",function (evt) {
        //         console.log("di" + i + "qqqq");
        //     })
        // }
        // {i=1;
        //     btns[i].addEventListener("click",function (evt) {
        //         console.log("di" + i + "qqqq");
        //     })
        // }
        // {i=2;
        //     btns[i].addEventListener("click",function (evt) {
        //         console.log("di" + i + "qqqq");
        //     })
        // }
        // {i=3;
        //     btns[i].addEventListener("click",function (evt) {
        //         console.log("di" + i + "qqqq");
        //     })
        // }
        // {i=4;
        //     btns[i].addEventListener("click",function (evt) {
        //         console.log("di" + i + "qqqq");
        //     })
        // }

    </script>
</body>

</html>